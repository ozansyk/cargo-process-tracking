<?xml version="1.0" encoding="UTF-8"?>
<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL"
             xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
             xmlns:camunda="http://camunda.org/schema/1.0/bpmn"
             xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI"
             xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC"
             xmlns:omgdi="http://www.omg.org/spec/DD/20100524/DI"
             targetNamespace="http://www.example.org/SimpleCargoTracking">

  <process id="simpleCargoProcess" name="Cargo Process with Validation" isExecutable="true" camunda:historyTimeToLive="P30D">
    <startEvent id="startEvent" name="Cargo Received Event"/>
    <sequenceFlow id="flow1" sourceRef="startEvent" targetRef="persistReceivedTask"/>

    <serviceTask id="persistReceivedTask" name="Persist Status RECEIVED"
                 camunda:delegateExpression="#{persistStatusWorker}"/>

    <sequenceFlow id="flow2" sourceRef="persistReceivedTask" targetRef="validateCargoTask"/>

    <userTask id="validateCargoTask" name="Validate Cargo Details">
    </userTask>

    <sequenceFlow id="flow3" sourceRef="validateCargoTask" targetRef="endEvent"/>
    <endEvent id="endEvent" name="Process Ended"/>
  </process>

  <bpmndi:BPMNDiagram id="BPMNDiagram_simpleCargoProcess">
    <bpmndi:BPMNPlane id="BPMNPlane_simpleCargoProcess" bpmnElement="simpleCargoProcess">
      <bpmndi:BPMNShape id="BPMNShape_startEvent" bpmnElement="startEvent">
        <omgdc:Bounds x="100" y="100" width="36" height="36"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_persistReceivedTask" bpmnElement="persistReceivedTask">
        <omgdc:Bounds x="200" y="78" width="100" height="80"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_validateCargoTask" bpmnElement="validateCargoTask">
        <omgdc:Bounds x="360" y="78" width="100" height="80"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_endEvent" bpmnElement="endEvent">
        <omgdc:Bounds x="520" y="100" width="36" height="36"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="BPMNEdge_flow1" bpmnElement="flow1">
        <omgdi:waypoint x="136" y="118"/>
        <omgdi:waypoint x="200" y="118"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_flow2" bpmnElement="flow2">
        <omgdi:waypoint x="300" y="118"/>
        <omgdi:waypoint x="360" y="118"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_flow3" bpmnElement="flow3">
        <omgdi:waypoint x="460" y="118"/>
        <omgdi:waypoint x="520" y="118"/>
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</definitions>